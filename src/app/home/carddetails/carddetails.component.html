<h2>Card Details</h2>
<div *ngIf="creditCard$ | async as creditCard; else loading">
    <div class="card-details-grid">
        <div class="card-field-title">Card Number</div>
        <div class="card-field-title">Card Holder</div>
        <div class="card-field-title">CSC Code</div>
        <div class="card-field-title">Expiration Date</div>
        <div class="card-field-title">Issuer</div>


        <div class="card-field-value">{{ creditCard.cardNumber }}</div>
        <div class="card-field-value">{{ creditCard.cardHolderName }}</div>
        <div class="card-field-value">{{ creditCard.cscCode }}</div>
        <div class="card-field-value">{{ (creditCard.expirationMonth || 0) | expirationDate:(creditCard.expirationYear
            || 0) }}
        </div>
        <div class="card-field-value">{{ creditCard.issuer }}</div>
    </div>

    <div class="card-actions">
        <button class="button-red" (click)="deleteCard()">Remove credit card</button>
    </div>
    <hr class="card-details-divider" />
    <h2>Credit Card Transactions</h2>
    <table class="transactions-table" *ngIf="creditCard.transactions?.length; else noTransactions">
        <tr>
            <td>uid</td>
            <td>cardNumber</td>
            <td>amount</td>
            <td>currencyCode</td>
            <td>transactionDate</td>
            <td>comment</td>
        </tr>
        <tr *ngFor="let transaction of creditCard.transactions">
            <td>{{ transaction.uid }}</td>
            <td>{{ transaction.cardNumber }}</td>
            <td>{{ transaction.amount }}</td>
            <td>{{ transaction.currencyCode }}</td>
            <td>{{ transaction.transactionDate }}</td>
            <td>{{ transaction.comment }}</td>
        </tr>
    </table>

    <ng-template #notFound>
        <p>Credit card not found or error occurred.</p>
    </ng-template>
</div>

<ng-template #loading>
    <p>Loading card details...</p>
</ng-template>

<ng-template #noTransactions>
    <p>No transactions found for this credit card.</p>
</ng-template>